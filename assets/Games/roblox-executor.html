<!DOCTYPE HTML>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FCheat Launcher</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com https://unpkg.com https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://unpkg.com https://cdnjs.cloudflare.com; script-src 'self' 'unsafe-inline';">

    <link rel="stylesheet" href="../css/info.css" />
    <link rel="stylesheet" href="../css/games.css" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300italic,600italic,300,600" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
</head>

<body style="-webkit-app-region: drag;">
    <div >
        <div style="position: absolute; top:10px; right:10px; z-index: 10000; -webkit-app-region: no-drag;">
            <button id="minimize-btn" style="background-color: transparent; border: none; cursor: pointer; border: 3px solid #ffffff; width: 64.41px; height: 44px; border-radius: 8px;">
                <span style="font-size: 24px; color: white;">&#x2212;</span>
            </button>
            <button id="fullscreen-btn" style="background-color: transparent; border: none; cursor: pointer; border: 3px solid #ffffff; width: 64.41px; height: 44px; border-radius: 8px; margin-left: 10px;">
              <span style="font-size: 24px; color: white;">&#x26F6;</span>
            </button>
            <button id="close-btn" style="background-color: transparent; border: none; cursor: pointer; margin-left: 10px; border: 3px solid #ffffff; width: 64.41px; height: 44px; border-radius: 8px;">
                <span style="font-size: 24px; color: white;">&#x2716;</span>
            </button>
        </div>
<!-- Sidebar for navigation -->
  <div class="sidebar" style="-webkit-app-region: no-drag;">
    <div class="logo-details">
      <!-- Icon and logo name -->
      <i class=" icon"><img src="../images/app-logo-nobg.png" alt="Roblox Logo" style="width: 60px; height: 60px;"></i>
      <div class="logo_name">FCheatUI</div>
      <i class='bx bx-menu' id="btn"></i> <!-- Menu button to toggle sidebar -->
    </div>
    <ul class="nav-list ">
      <!-- Home items -->
      <li>
        <a href="games.html">
          <i ><img src="../images/home.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">首頁</span>
        </a>
        <span class="tooltip">首頁</span>
      </li>
            <!-- Account items -->
      <li>
        <a href="../Account/login.html">
          <i><img src="../images/account.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">帳號</span>
        </a>
        <span class="tooltip">帳號</span>
      </li>
           <!--Menu items -->
      <li>
        <a href="#" id="openMenu">
          <i><img src="../images/menu-window.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">小菜單</span>
        </a>
        <span class="tooltip">小菜單</span>
        <script>
          // 使用 Electron 提供的 API 開啟選單
          document.getElementById('openMenu').addEventListener('click', () => {
              window.electronAPI.openMenuWindow();
          });
      </script>
      </li>
           <!-- Setting items -->
      <li>
        <a href="../../config/settings.html">
          <i><img src="../images/setting.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">設置</span>
        </a>
        <span class="tooltip">設置</span>
      </li>

       <!-- Roblox Executor items -->
       <li>
        <a href="roblox-executor.html">
          <i><img src="../images/roblox.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">Roblox Executor</span>
        </a>
        <span class="tooltip">Roblox_Executor</span>
      </li>
      <!-- Roblox Script items -->
      <li>
        <a href="roblox-script.html">
          <i><img src="../images/roblox-script.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">Roblox Script</span>
        </a>
        <span class="tooltip">Roblox_Script</span>
      </li> 
      <!-- Minecraft items -->
      <li>
        <a href="minecraft.html">
          <i><img src="../images/minecraft.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">Minecraft</span>
        </a>
        <span class="tooltip">Minecraft</span>
      </li>
      <li>
        <a href="genshinimpact.html">
          <i><img src="../images/genshinimpact.png" style="width: 30px; height: 30px; display: inline-block; vertical-align: middle;"></i>
          <span class="links_name">Genshin Impact</span>
        </a>
        <span class="tooltip">Genshin_Impact</span>
      </li>

    </ul>
  </div>
  <!-- Main content area -->
  <section class="roblox-section">
    <div class="top-m"></div>
    <div class="fc_container fade-text">
      <div class="fc_games card">
        <img src="../images/wave-exec.jpg">
        <h3>Wave Executor</h3>
        <p>UNC: 100%<br/>僅在PC端使用</p>
        <button id="find-wave" onclick="handleExecutorAction('wave')">安裝</button>
    </div>
    
    <div class="fc_games card">
        <img src="../images/solara-exec.jpg">
        <h3>Solara Executor</h3>
        <p>UNC: 67%<br/>僅在PC端使用</p>
        <button id="find-solara" onclick="handleExecutorAction('solara')">安裝</button>
    </div>
    
    <div class="fc_games card">
        <img src="../images/zorara-exec.png">
        <h3>Zorara Executor</h3>
        <p>UNC: 84%<br/>僅在PC端使用</p>
        <button id="find-zorara" onclick="handleExecutorAction('zorara')">安裝</button>
    </div>
      <div class="fc_games card">
        <img src="../images/cloudy-exec.png" >
        <h3>Cloudy Executor</h3>
        <p>UNC: 86%<br/>僅在PC端使用</p>
        <button id="find-cloudy" onclick="showToast('cloudy')">安裝</button>
      </div>
      <div class="fc_games card">
        <img src="../images/luna-exec.png" >
        <h3>Luna Executor</h3>
        <p>UNC: 67%<br/>僅在PC端使用</p>
        <button id="find-luna" onclick="showToast('luna')">安裝</button>
  </div>
  <div class="fc_games card">
    <img src="../images/fcheat-exec.png" >
    <h3>FCheat Executor</h3>
    <p>UNC: XX%<br/>僅在PC端使用</p>
    <button id="find-fcheat" onclick="showToast('fcheat')">安裝</button>
</div>
  <div class="info-wrapper "style="-webkit-app-region: no-drag;">
    <div id="toast">
    </div>
  </div>
  </section>
<!-- Scripts -->
<script>
  async function handleExecutorAction(type) {
      try {
          const button = document.getElementById(`find-${type}`);
          const isInstalled = await window.gameAPI.checkInstalled(type);
          
          if (isInstalled) {
              // 如果已安裝，則執行
              try {
                  button.textContent = "執行中...";
                  await window.gameAPI.launch(type);
                  showToast('success', `${type} 執行成功！`);
                  button.textContent = "執行";
              } catch (error) {
                  showToast('error', '執行失敗：' + error.message);
                  button.textContent = "執行";
              }
          } else {
              // 如果未安裝，使用原來的搜尋功能
              window.electronAPI[`runFind${type.charAt(0).toUpperCase() + type.slice(1)}`]();
          }
      } catch (error) {
          console.error(`Error handling ${type}:`, error);
          // 發生錯誤時回退到原有功能
          window.electronAPI[`runFind${type.charAt(0).toUpperCase() + type.slice(1)}`]();
      }
  }
  
  // 頁面載入時檢查執行器狀態
  document.addEventListener('DOMContentLoaded', async () => {
      const executors = ['wave', 'solara', 'zorara'];
      
      for (const type of executors) {
          try {
              const button = document.getElementById(`find-${type}`);
              if (button) {
                  const isInstalled = await window.gameAPI.checkInstalled(type);
                  button.textContent = isInstalled ? "安裝" : "尋找";
              }
          } catch (error) {
              console.error(`Error checking ${type}:`, error);
              // 如果檢查失敗，顯示"尋找"
              const button = document.getElementById(`find-${type}`);
              if (button) {
                  button.textContent = "尋找";
              }
          }
      }
  });
  </script>
  
  <!-- 保留其他腳本引用 -->
  <script src="../js/games.js" defer></script>
  <script src="../js/info.js"></script>
  <script src="../js/openlnk.js" defer></script>
</body>
</html>




